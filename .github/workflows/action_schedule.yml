name: 'Tarefas Agendadas'

# Agenda para executar todo dia Ã s 2h da manhÃ£ (horÃ¡rio de BrasÃ­lia)
on:
  schedule:
    - cron: '*/30 * * * *'  # a cada 30 minutos
  # Permite execuÃ§Ã£o manual pelo GitHub Actions
  workflow_dispatch:

jobs:
  manutencao-diaria:
    name: Executar Tarefas de ManutenÃ§Ã£o
    runs-on: ubuntu-latest

    steps:
      - name: Verificar status do servidor
        run: |
          echo "ğŸ•’ Iniciando tarefas agendadas - $(date)"
          echo "ğŸ” Verificando status dos serviÃ§os..."
          # Comandos de verificaÃ§Ã£o de serviÃ§os aqui

      - name: Limpar arquivos temporÃ¡rios
        run: |
          echo "ğŸ§¹ Limpando arquivos temporÃ¡rios..."
          # Comandos de limpeza aqui

      - name: Backup do banco de dados
        run: |
          echo "ğŸ’¾ Iniciando backup do banco de dados..."
          # Comandos de backup aqui
          echo "âœ… Backup concluÃ­do com sucesso!"

      - name: NotificaÃ§Ã£o de conclusÃ£o
        run: |
          echo "ğŸ Tarefas de manutenÃ§Ã£o concluÃ­das!"
          echo "ğŸ“Š RelatÃ³rio gerado em: $(date)"
          # Comando para enviar notificaÃ§Ã£o

      - name: Delay para visualizaÃ§Ã£o (remover em produÃ§Ã£o)
        if: github.event_name == 'workflow_dispatch'
        run: sleep 15